{"version":3,"sources":["weather.es6"],"names":[],"mappings":"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","file":"weather.js","sourcesContent":["/**\n * Class for getting weather data using OpenWeatherMap\n * @see http://openweathermap.org/current\n */\nclass OpenWeatherMap {\n\tconstructor(units = 'imperial', lang = 'en', version = 2.5) {\n\t\tthis.units = units;\n\t\tthis.url = new URL(`http://api.openweathermap.org/data/${version}/weather`);\n\t\tthis.url.searchParams.set('units', units);\n\t\tthis.url.searchParams.set('lang', lang);\n\t}\n\n\tgetFromCoords(callback = data => {console.log(data)}) {\n\t\tOpenWeatherMap.getLocation().then(location => {\n\t\t\tthis.url.searchParams.set('lat', location.coords.latitude);\n\t\t\tthis.url.searchParams.set('lon', location.coords.longitude);\n\t\t\tfetch(this.url, {\n\t\t\t\tmethod: 'GET',\n\t\t\t\tmode: 'cors'\n\t\t\t}).then(resp =>  this.parseResponse(resp)).then(callback);\n\t\t}).catch(err => {\n\t\t\tconsole.error(err);\n\t\t});\n\t}\n\n\tgetFromCity(city, callback = data => console.log(data)) {\n\t\tthis.url.searchParams.set('q', city);\n\t\tfetch(this.url, {\n\t\t\tmethod: 'GET',\n\t\t\tmode: 'cors'\n\t\t}).then(resp =>  this.parseResponse(resp)).then(callback).catch(err => {\n\t\t\tconsole.error(err);\n\t\t});\n\t}\n\n\tgetFromZip(zip, callback = data => console.log(data)) {\n\t\tthis.url.searchParams.set('zip', `${zip},us`);\n\t\tfetch(this.url, {\n\t\t\tmethod: 'GET',\n\t\t\tmode: 'cors'\n\t\t}).then(resp =>  this.parseResponse(resp)).then(callback).catch(err => {\n\t\t\tconsole.error(err);\n\t\t});\n\t}\n\n\tgetFromID(id, callback = data => console.log(data)) {\n\t\tthis.url.searchParams.set('id', id);\n\t\tfetch(this.url, {\n\t\t\tmethod: 'GET',\n\t\t\tmode: 'cors'\n\t\t}).then(resp =>  this.parseResponse(resp)).then(callback).catch(err => {\n\t\t\tconsole.error(err);\n\t\t});\n\t}\n\n\tparseResponse(resp) {\n\t\tif (resp.ok) {\n\t\t\tlet type = resp.headers.get('Content-Type').toLowerCase();\n\t\t\tif (type.startsWith('application/json')) {\n\t\t\t\treturn resp.json();\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Unsupported Content-Type: ${type}`);\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error(`${resp.status}: ${resp.statusText}`);\n\t\t}\n\t}\n\n\tstatic getLocation(options = {}) {\n\t\treturn new Promise(function(success, fail) {\n\t\t\tif (!('geolocation' in navigator)) {\n\t\t\t\tfail('Your browser does not support GeoLocation');\n\t\t\t}\n\t\t\tnavigator.geolocation.getCurrentPosition(success, fail, options);\n\t\t});\n\t}\n}\n"]}